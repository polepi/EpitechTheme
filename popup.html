<!DOCTYPE html>
<html>
<head>
    <title>Popup</title>
    <link rel="stylesheet" type="text/css" href="popup.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons|Material+Icons+Outlined">
</head>
<body>
    <div id="tab_table">
        <i class="material-icons searchIco">search</i>
        <a href="https://intra.epitech.eu/" target="_blank" title="Intranet" class="material-icons homeIco">home</a>
        <a href="https://my.epitech.eu/" target="_blank" title="Stupid wanker thing that enjoys pissing everyone over" class="shiteIco"></a>
        <a href="https://github.com/EpitechPromo2028" target="_blank" title="Github" class="gitIco"></a>
        <a href="https://teams.microsoft.com/go" target="_blank" title="Teams" class="teamsIco"></a>
        <input type="text" id="filter_input" placeholder="Filter by name.." title="Type in a name">
        <div class="navbar noselect">
            <div id="s_add_btn">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons' title="Create new event">playlist_add</span>
            </div>
            <div id="s_completed_btn" title="Show/Hide completed events">
                <span style='font-size: 18px;margin-top: 0px;' id="s_completed_icon" class='material-icons'>visibility</span>&nbsp;&nbsp;<span>Completed&nbsp;<span id="s_completed_badge"></span></span>
            </div>
            <div id="s_config_btn">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>tune</span>&nbsp;&nbsp;<span>Preferences</span>
            </div>
            <div id="s_tupload_btn" class="t_row_hide" style="float: right;" title="Upload to Trello (Export)">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons-outlined'>file_upload</span>
            </div>
            <div id="s_tdownload_btn" class="t_row_hide" style="float: right;margin-right: 3px;" title="Import from Trello (Merge)">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons-outlined'>file_download</span>
            </div>
        </div>
        <table id ="taskTable">
        
        </table>
    </div>
    <div id="tab_addevent">
        <h3><span style='font-size: 18px;margin-top: 0px;' class='material-icons'>playlist_add</span>&nbsp;&nbsp;Create an event</h3>
        <div class="navbar noselect">
            <div id="s_canelEvent_btn">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>chevron_left</span>&nbsp;<span>Return</span>
            </div>
        </div>
        <form id="createTask_form">
            <input type="text" id="in_addtask_name" autocomplete="off" placeholder="Event name.." required minlength="3" maxlength="50">
            <input type="url" id="in_addtask_url" autocomplete="off" placeholder="Event URL..">
            <input type="datetime-local" id="in_addtask_due" placeholder="Due time" required>
            <div class="navbar">
                <button id="s_addEvent_btn">
                    <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>add_circle_outline</span>&nbsp;&nbsp;<span>Create</span>
                </button>
            </div>
        </form>
    </div>
    <div id="tab_taskdesc">
        <h3><span style='font-size: 18px;margin-top: 0px;' class='material-icons'>content_paste</span>&nbsp;&nbsp;<span id="info_taskName"></span></h3>
        <div class="navbar noselect">
            <div id="s_canelEvent_btn3">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>chevron_left</span>&nbsp;<span>Return</span>
            </div>
            <div id="s_descEvent_save">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>check</span>&nbsp;<span>Apply</span>
            </div>
        </div>
        <div class="cont">
            <div style="display: block;">
                <span class="date_infoEvent date_calendar_e" id="in_edittask_due_holder">
                    <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>event</span>&nbsp;&nbsp;<input type="datetime-local" id="in_edittask_due">
                </span>
                <span class="date_infoEvent" id="info_taskDaysIcon" style="margin-left: 5px;"></span>
                <a class="date_infoEvent" id="info_taskCardUrl" target="_blank" style="margin-left: 3px;">
                    <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>sticky_note_2</span>&nbsp;&nbsp;Trello
                </a>
            </div>
            <div id="info_taskLab"></div>
            <textarea id="info_taskDesc"></textarea>
            <div id="info_taskUrl"></div>
            <div id="info_taskChecks"></div>
        </div>
    </div>
    <div id="tab_options">
        <h3><span style='font-size: 18px;margin-top: 0px;' class='material-icons'>tune</span>&nbsp;&nbsp;Preferences</h3>
        <div class="navbar noselect">
            <div id="s_canelEvent_btn2">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>chevron_left</span>&nbsp;<span>Return</span>
            </div>
            <div id="s_s_subtab_trello">
                <span style='font-size: 18px;margin-top: 0px;' class='material-icons-outlined'>view_agenda</span>&nbsp;&nbsp;<span>Trello</span>
            </div>
        </div>
        <div id="subtab_trello" class="subtab_cont">
            <h3>Trello</h3>
            <div class="cont">
                <span style="display: block;" id="t_notset_warn" class="noselect warn-badge"><span style='font-size: 18px;margin-top: 0px;' class='material-icons'>error_outline</span>&nbsp;&nbsp;Trello API not configured.</span><br>
                <table id="t_infoTable">
                    <tr>
                        <td>
                            <b>Actions</b>
                        </td>
                    </tr> 
                    <tr class="t_row_hide">
                        <td>
                            <button id="e_export_trello">
                                <span style='font-size: 18px;margin-top: 0px;' class='material-icons-outlined'>file_upload</span>&nbsp;&nbsp;<span>Export</span>
                            </button>
                        </td>
                        <td>Export your projects to your desired Trello list as individual cards. Existing cards will be updated.</td>
                    </tr>
                    <tr class="t_row_hide">
                        <td>
                            <button id="e_merge_trello">
                                <span style='font-size: 18px;margin-top: 0px;' class='material-icons-outlined'>file_download</span>&nbsp;&nbsp;<span>Merge</span>
                            </button>
                        </td>
                        <td>Imports cards from trello. Existing cards will be updated.</td>
                    </tr>
                    <tr class="t_row_hide">
                        <td>
                            <button id="e_replace_trello" style="background-color: indianred; color: white;">
                                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>sync_problem</span>&nbsp;&nbsp;<span>Replace</span>
                            </button>
                        </td>
                        <td>Replaces all your local projects with the ones in the Trello list.</td>
                    </tr>
                    <tr class="t_row_hide">
                        <td>
                            <button id="e_removeall_trello" style="background-color:indianred;color: white;">
                                <span style='font-size: 18px;margin-top: 0px;' class='material-icons-outlined'>delete</span>&nbsp;&nbsp;<span>Delete</span>
                            </button>
                        </td>
                        <td>Removes all the cards from the Trello List.</td>
                    </tr>
                    <tr>
                        <td>
                            <b>Config</b>
                        </td>
                    </tr>
                    <tr class="t_row_hide" style="display: none;">
                        <td style="text-align: right;">
                            <input type="checkbox" id="t_pull_onstartup">
                        </td>
                        <td>Export to Trello onStartUp</td>
                    </tr>
                    <tr class="t_row_hide" style="display: none;">
                        <td style="text-align: right;">
                            <input type="checkbox" id="t_merge_onstartup">
                        </td>
                        <td>Merge from Trello onStartUp</td>
                    </tr>
                    <tr>
                        <td>
                            <button id="e_opsett_trello">
                                <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>webhook</span>&nbsp;&nbsp;<span>API</span>
                            </button>
                        </td>
                        <td>Configure the Trello API.</td>
                    </tr>
                </table>
                <div id="subtab_trellosett" style="display: none; border-top: 1px dashed #ccc;padding: 0px 10px;">
                    <h3>Trello API Configuration</h3>
                    <a href="https://developer.atlassian.com/cloud/trello/guides/rest-api/api-introduction/" target="_blank"> API Documentation</a> | <a href="https://trello.com/power-ups/admin/" target="_blank">Get an API Key</a><br><br>
                    <form id="form_trello_config">
                        <label for="t_trello_apikey" href="https://trello.com/power-ups/admin/"><b>Trello API Key</b></label>
                        <input type="password" id="t_trello_apikey" placeholder="Trello API Key" required minlength="10">
                        <label for="t_trello_token"><b>Trello API Token</b></label>
                        <input type="password" id="t_trello_token" placeholder="Trello Token" required minlength="10">
                        <label for="t_trello_lisid"><b>Trello List ID</b></label>
                        <input type="password" id="t_trello_lisid" placeholder="Trello List ID" required minlength="10">
                        <button id="e_save_trello">
                            <span style='font-size: 18px;margin-top: 0px;' class='material-icons'>check</span>&nbsp;&nbsp;<span>Apply API Changes</span>
                        </button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    <script src="popup.js"></script>
    <script src="trello.js"></script>
</body>
</html>
